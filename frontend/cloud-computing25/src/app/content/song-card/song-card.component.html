<mat-card class="song-card" [class.no-image]="!getCoverUrl()" [routerLink]="['/song-details',song.id]">
  <div class="image-container">
    <img *ngIf="getCoverUrl()"
         [src]="getCoverUrl()"
         [alt]="song.title + ' cover'"
         class="cover-image"
         (error)="onImageError($event)">

    <div *ngIf="!getCoverUrl()" class="placeholder-image">
      <mat-icon class="music-icon">music_note</mat-icon>
      <span class="placeholder-text">No Cover</span>
    </div>
  </div>

  <mat-card-content>
    <div class="song-info">
      <h3 class="song-title" [title]="song.title">{{ song.title }}</h3>

      <div class="song-details">
        <p *ngIf="getArtistNames()" class="artists">
          <mat-icon class="detail-icon">person</mat-icon>
          <span>{{ getArtistNames() }}</span>
        </p>

        <p *ngIf="song.album" class="album">
          <mat-icon class="detail-icon">album</mat-icon>
          <span>{{ song.album }}</span>
        </p>

        <p *ngIf="getGenres()" class="genres">
          <mat-icon class="detail-icon">category</mat-icon>
          <span>{{ getGenres() }}</span>
        </p>
      </div>

      <p *ngIf="song.description" class="description">{{ song.description }}</p>
    </div>

    <div class="card-actions">
      <button mat-icon-button class="play-btn" [title]="'Play ' + song.title">
        <mat-icon>play_arrow</mat-icon>
      </button>
      <button mat-icon-button class="favorite-btn" title="Add to favorites">
        <mat-icon>favorite_border</mat-icon>
      </button>
      <button mat-icon-button class="more-btn" title="More options">
        <mat-icon>more_vert</mat-icon>
      </button>
    </div>
  </mat-card-content>
</mat-card>
