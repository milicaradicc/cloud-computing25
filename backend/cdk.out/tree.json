{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.215.0"},"children":{"BackendStack":{"id":"BackendStack","path":"BackendStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"my-music-app-files":{"id":"my-music-app-files","path":"BackendStack/my-music-app-files","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.215.0","metadata":[{"removalPolicy":"destroy","versioned":true}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/my-music-app-files/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"versioningConfiguration":{"status":"Enabled"}}}}}},"Songs":{"id":"Songs","path":"BackendStack/Songs","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Songs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"Album","attributeType":"S"},{"attributeName":"Id","attributeType":"S"}],"keySchema":[{"attributeName":"Album","keyType":"HASH"},{"attributeName":"Id","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Songs/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"Albums":{"id":"Albums","path":"BackendStack/Albums","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Albums/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"Genre","attributeType":"S"},{"attributeName":"Id","attributeType":"S"}],"keySchema":[{"attributeName":"Genre","keyType":"HASH"},{"attributeName":"Id","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Albums/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"Artists":{"id":"Artists","path":"BackendStack/Artists","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Artists/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"Genre","attributeType":"S"},{"attributeName":"Id","attributeType":"S"},{"attributeName":"deleted","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"deleted-index","keySchema":[{"attributeName":"deleted","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"Genre","keyType":"HASH"},{"attributeName":"Id","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Artists/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"MusicAppUserPool":{"id":"MusicAppUserPool","path":"BackendStack/MusicAppUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.215.0","metadata":[{"accountRecovery":2,"customAttributes":"*","mfa":"OFF","passwordPolicy":{"minLength":"*","requireDigits":false,"requireLowercase":false,"requireSymbols":false,"requireUppercase":false},"removalPolicy":"destroy","selfSignUpEnabled":true,"signInAliases":{"email":true,"username":true},"standardAttributes":{},"userPoolName":"*"},{"addTrigger":[{},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicAppUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","lambdaConfig":{"preSignUp":{"Fn::GetAtt":["PreSignUpLambda2E8F0430","Arn"]}},"mfaConfiguration":"OFF","policies":{"passwordPolicy":{"minimumLength":6,"requireLowercase":false,"requireUppercase":false,"requireNumbers":false,"requireSymbols":false}},"schema":[{"name":"birthdate","mutable":true,"required":true},{"name":"email","mutable":true,"required":true},{"name":"family_name","mutable":true,"required":true},{"name":"given_name","mutable":true,"required":true},{"name":"role","attributeDataType":"String","stringAttributeConstraints":{"minLength":"1","maxLength":"20"},"mutable":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolName":"music-app-user-pool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"MusicStreamingApp":{"id":"MusicStreamingApp","path":"BackendStack/MusicAppUserPool/MusicStreamingApp","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.215.0","metadata":[{"userPool":"*","accessTokenValidity":"*","authFlows":{"userPassword":true,"userSrp":true},"enableTokenRevocation":true,"generateSecret":false,"idTokenValidity":"*","preventUserExistenceErrors":true,"refreshTokenValidity":"*","userPoolClientName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicAppUserPool/MusicStreamingApp/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"music-streaming-client","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":7200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"MusicAppUserPool6D0B6B56"}}}}}},"PreSignUpCognito":{"id":"PreSignUpCognito","path":"BackendStack/MusicAppUserPool/PreSignUpCognito","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PreSignUpLambda2E8F0430","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::GetAtt":["MusicAppUserPool6D0B6B56","Arn"]}}}}}},"UserPoolId":{"id":"UserPoolId","path":"BackendStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"BackendStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"PreSignUpLambda":{"id":"PreSignUpLambda","path":"BackendStack/PreSignUpLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"code":"*","handler":"*","runtime":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"BackendStack/PreSignUpLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"BackendStack/PreSignUpLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/PreSignUpLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Resource":{"id":"Resource","path":"BackendStack/PreSignUpLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"def main(event, context):\n                # Auto-confirm user and auto-verify email\n                event['response']['autoConfirmUser'] = True\n                event['response']['autoVerifyEmail'] = True\n                return event\n            "},"handler":"index.main","role":{"Fn::GetAtt":["PreSignUpLambdaServiceRoleFA160DE8","Arn"]},"runtime":"python3.11"}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/PreSignUpLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/PreSignUpLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"PreSignUpLambda2E8F0430"}]]},"retentionInDays":731}}}}}}},"MusicStreamingApi":{"id":"MusicStreamingApi","path":"BackendStack/MusicStreamingApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.215.0","metadata":[{"defaultCorsPreflightOptions":{"allowOrigins":"*","allowMethods":"*"},"deployOptions":{"throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*"},"restApiName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"MusicStreamingApi"}}},"Deployment":{"id":"Deployment","path":"BackendStack/MusicStreamingApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.215.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"BackendStack/MusicStreamingApi/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.215.0","metadata":[{"deployment":"*","throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"MusicStreamingApiDeployment8B4E5256a54c51b6d1e1e85e8bc2a8e6300454f8"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"throttlingBurstLimit":200,"throttlingRateLimit":100}],"restApiId":{"Ref":"MusicStreamingApiC954D41A"},"stageName":"dev"}}}}},"Endpoint":{"id":"Endpoint","path":"BackendStack/MusicStreamingApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Default":{"id":"Default","path":"BackendStack/MusicStreamingApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.215.0","metadata":["*"]},"children":{"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"artists":{"id":"artists","path":"BackendStack/MusicStreamingApi/Default/artists","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"pathPart":"artists","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/artists/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApiartists29F56A20"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"POST":{"id":"POST","path":"BackendStack/MusicStreamingApi/Default/artists/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..artists":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..artists","path":"BackendStack/MusicStreamingApi/Default/artists/POST/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateArtistLambda7E4DB7BE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/POST/artists"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..artists":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..artists","path":"BackendStack/MusicStreamingApi/Default/artists/POST/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["CreateArtistLambda7E4DB7BE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/POST/artists"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["CreateArtistLambda7E4DB7BE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApiartists29F56A20"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/artists/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists","path":"BackendStack/MusicStreamingApi/Default/artists/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetArtistsLambdaF8071C71","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/artists"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists","path":"BackendStack/MusicStreamingApi/Default/artists/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetArtistsLambdaF8071C71","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/artists"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetArtistsLambdaF8071C71","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApiartists29F56A20"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"{id}":{"id":"{id}","path":"BackendStack/MusicStreamingApi/Default/artists/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MusicStreamingApiartists29F56A20"},"pathPart":"{id}","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApiartistsid07892E02"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists.{id}","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetArtistLambda33C79BE1","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/artists/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists.{id}","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetArtistLambda33C79BE1","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/artists/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetArtistLambda33C79BE1","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApiartistsid07892E02"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}}}}}},"genres":{"id":"genres","path":"BackendStack/MusicStreamingApi/Default/genres","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/genres/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"pathPart":"genres","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/genres/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/genres/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApigenresADE25626"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/genres/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..genres":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..genres","path":"BackendStack/MusicStreamingApi/Default/genres/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..genres","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetGenresLambda9ACEE533","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/genres"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..genres":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..genres","path":"BackendStack/MusicStreamingApi/Default/genres/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..genres","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetGenresLambda9ACEE533","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/genres"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/genres/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetGenresLambda9ACEE533","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApigenresADE25626"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}}}},"discover":{"id":"discover","path":"BackendStack/MusicStreamingApi/Default/discover","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/discover/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"pathPart":"discover","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/discover/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/discover/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApidiscover3B2C724F"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"filter":{"id":"filter","path":"BackendStack/MusicStreamingApi/Default/discover/filter","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/discover/filter/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MusicStreamingApidiscover3B2C724F"},"pathPart":"filter","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/discover/filter/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/discover/filter/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApidiscoverfilterC7329518"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/discover/filter/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..discover.filter":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..discover.filter","path":"BackendStack/MusicStreamingApi/Default/discover/filter/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..discover.filter","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetFilteredContentLambda838D3EFC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/discover/filter"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..discover.filter":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..discover.filter","path":"BackendStack/MusicStreamingApi/Default/discover/filter/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..discover.filter","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["GetFilteredContentLambda838D3EFC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":execute-api:",{"Ref":"AWS::Region"},":",{"Ref":"AWS::AccountId"},":",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/discover/filter"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/discover/filter/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":apigateway:",{"Ref":"AWS::Region"},":lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["GetFilteredContentLambda838D3EFC","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApidiscoverfilterC7329518"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}}}}}}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"BackendStack/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.215.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"BackendStack/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"BackendStackCognitoAuthorizerD02D578C","providerArns":[{"Fn::GetAtt":["MusicAppUserPool6D0B6B56","Arn"]}],"restApiId":{"Ref":"MusicStreamingApiC954D41A"},"type":"COGNITO_USER_POOLS"}}}}},"CreateArtistLambdaRole":{"id":"CreateArtistLambdaRole","path":"BackendStack/CreateArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportCreateArtistLambdaRole":{"id":"ImportCreateArtistLambdaRole","path":"BackendStack/CreateArtistLambdaRole/ImportCreateArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/CreateArtistLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/CreateArtistLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/CreateArtistLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"CreateArtistLambdaRoleDefaultPolicyF9DCB469","roles":[{"Ref":"CreateArtistLambdaRoleAC5EB843"}]}}}}}}},"CreateArtistLambda":{"id":"CreateArtistLambda","path":"BackendStack/CreateArtistLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/CreateArtistLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/CreateArtistLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/CreateArtistLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/CreateArtistLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"6316c355d84e049ff2f3030d94fe2b5f84c842ef663f35779785a0a8ff34236c.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"ArtistsAF1BB04E"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["CreateArtistLambdaRoleAC5EB843","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/CreateArtistLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/CreateArtistLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"CreateArtistLambda7E4DB7BE"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/CreateArtistLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/CreateArtistLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["CreateArtistLambda7E4DB7BE","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/CreateArtistLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["CreateArtistLambda7E4DB7BE","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetArtistsLambdaRole":{"id":"GetArtistsLambdaRole","path":"BackendStack/GetArtistsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetArtistsLambdaRole":{"id":"ImportGetArtistsLambdaRole","path":"BackendStack/GetArtistsLambdaRole/ImportGetArtistsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/GetArtistsLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/GetArtistsLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetArtistsLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GetArtistsLambdaRoleDefaultPolicyEE03CA6D","roles":[{"Ref":"GetArtistsLambdaRole24EED06E"}]}}}}}}},"GetArtistsLambda":{"id":"GetArtistsLambda","path":"BackendStack/GetArtistsLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/GetArtistsLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/GetArtistsLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/GetArtistsLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/GetArtistsLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"45a1a4808f0cb411220f4fe87d1b5172905a7d59bae4a6a3548cbd89b8cc9550.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"ArtistsAF1BB04E"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["GetArtistsLambdaRole24EED06E","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/GetArtistsLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetArtistsLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GetArtistsLambdaF8071C71"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/GetArtistsLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetArtistsLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["GetArtistsLambdaF8071C71","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/GetArtistsLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["GetArtistsLambdaF8071C71","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetArtistLambdaRole":{"id":"GetArtistLambdaRole","path":"BackendStack/GetArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetArtistLambdaRole":{"id":"ImportGetArtistLambdaRole","path":"BackendStack/GetArtistLambdaRole/ImportGetArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/GetArtistLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/GetArtistLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetArtistLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GetArtistLambdaRoleDefaultPolicy8C5CF46F","roles":[{"Ref":"GetArtistLambdaRoleBBDAE347"}]}}}}}}},"GetArtistLambda":{"id":"GetArtistLambda","path":"BackendStack/GetArtistLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/GetArtistLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/GetArtistLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/GetArtistLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/GetArtistLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"e332e93e7e92800dd7263c421c7dea7858c5497494bef41dc0c0e81be0eb9d6e.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"ArtistsAF1BB04E"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["GetArtistLambdaRoleBBDAE347","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/GetArtistLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetArtistLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GetArtistLambda33C79BE1"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/GetArtistLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetArtistLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["GetArtistLambda33C79BE1","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/GetArtistLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["GetArtistLambda33C79BE1","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetGenresLambdaRole":{"id":"GetGenresLambdaRole","path":"BackendStack/GetGenresLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetGenresLambdaRole":{"id":"ImportGetGenresLambdaRole","path":"BackendStack/GetGenresLambdaRole/ImportGetGenresLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/GetGenresLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/GetGenresLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetGenresLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"GetGenresLambdaRoleDefaultPolicy0E732785","roles":[{"Ref":"GetGenresLambdaRole521EB931"}]}}}}}}},"GetGenresLambda":{"id":"GetGenresLambda","path":"BackendStack/GetGenresLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/GetGenresLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/GetGenresLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/GetGenresLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/GetGenresLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"47cca25d3d05186f8cb23ca6a2dbcf94d46ac4d326b8f5c4f147757fd53ddecf.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"ArtistsAF1BB04E"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["GetGenresLambdaRole521EB931","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/GetGenresLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetGenresLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GetGenresLambda9ACEE533"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/GetGenresLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetGenresLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["GetGenresLambda9ACEE533","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/GetGenresLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["GetGenresLambda9ACEE533","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetFilteredContentLambdaRole":{"id":"GetFilteredContentLambdaRole","path":"BackendStack/GetFilteredContentLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportGetFilteredContentLambdaRole":{"id":"ImportGetFilteredContentLambdaRole","path":"BackendStack/GetFilteredContentLambdaRole/ImportGetFilteredContentLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/GetFilteredContentLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/GetFilteredContentLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetFilteredContentLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"GetFilteredContentLambdaRoleDefaultPolicy3A988D01","roles":[{"Ref":"GetFilteredContentLambdaRoleBFB6DA89"}]}}}}}}},"GetFilteredContentLambda":{"id":"GetFilteredContentLambda","path":"BackendStack/GetFilteredContentLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/GetFilteredContentLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/GetFilteredContentLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/GetFilteredContentLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/GetFilteredContentLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":{"Fn::Sub":"cdk-hnb659fds-assets-${AWS::AccountId}-${AWS::Region}"},"s3Key":"9e5ee5c411d9b6858c95362f73649ae1e8d39f50fca7b54313365615d93e4e12.zip"},"environment":{"variables":{"ARTISTS_TABLE":{"Ref":"ArtistsAF1BB04E"},"ALBUMS_TABLE":{"Ref":"Albums77B3A114"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["GetFilteredContentLambdaRoleBFB6DA89","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/GetFilteredContentLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetFilteredContentLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"GetFilteredContentLambda838D3EFC"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/GetFilteredContentLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/GetFilteredContentLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["GetFilteredContentLambda838D3EFC","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/GetFilteredContentLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["GetFilteredContentLambda838D3EFC","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"BackendStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"BackendStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}},"Condition":{"id":"Condition","path":"BackendStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"BackendStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"BackendStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}