{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.215.0"},"children":{"BackendStack":{"id":"BackendStack","path":"BackendStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.215.0"},"children":{"my-music-app-files":{"id":"my-music-app-files","path":"BackendStack/my-music-app-files","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.Bucket","version":"2.215.0","metadata":[{"blockPublicAccess":"*","publicReadAccess":true,"removalPolicy":"destroy","versioned":true,"websiteErrorDocument":"*","websiteIndexDocument":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/my-music-app-files/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucket","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::Bucket","aws:cdk:cloudformation:props":{"publicAccessBlockConfiguration":{"blockPublicAcls":true,"blockPublicPolicy":false,"ignorePublicAcls":true,"restrictPublicBuckets":false},"versioningConfiguration":{"status":"Enabled"},"websiteConfiguration":{"indexDocument":"index.html","errorDocument":"error.html"}}}},"Policy":{"id":"Policy","path":"BackendStack/my-music-app-files/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketPolicy","version":"2.215.0","metadata":[{"bucket":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/my-music-app-files/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.CfnBucketPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::S3::BucketPolicy","aws:cdk:cloudformation:props":{"bucket":{"Ref":"mymusicappfilesAC4E028D"},"policyDocument":{"Statement":[{"Action":"s3:GetObject","Effect":"Allow","Principal":{"AWS":"*"},"Resource":{"Fn::Join":["",[{"Fn::GetAtt":["mymusicappfilesAC4E028D","Arn"]},"/*"]]}}],"Version":"2012-10-17"}}}}}}}},"MusicBucketURL":{"id":"MusicBucketURL","path":"BackendStack/MusicBucketURL","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Artists":{"id":"Artists","path":"BackendStack/Artists","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Artists/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"Genre","attributeType":"S"},{"attributeName":"Id","attributeType":"S"},{"attributeName":"deleted","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"deleted-index","keySchema":[{"attributeName":"deleted","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"Id-index","keySchema":[{"attributeName":"Id","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"Genre","keyType":"HASH"},{"attributeName":"Id","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Artists/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"Songs":{"id":"Songs","path":"BackendStack/Songs","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Songs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"Album","attributeType":"S"},{"attributeName":"Id","attributeType":"S"},{"attributeName":"deleted","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"deleted-index","keySchema":[{"attributeName":"deleted","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"Album-index","keySchema":[{"attributeName":"Album","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"Id-index","keySchema":[{"attributeName":"Id","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"Album","keyType":"HASH"},{"attributeName":"Id","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Songs/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"Albums":{"id":"Albums","path":"BackendStack/Albums","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Albums/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"Genre","attributeType":"S"},{"attributeName":"Id","attributeType":"S"},{"attributeName":"deleted","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"deleted-index","keySchema":[{"attributeName":"deleted","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"Id-index","keySchema":[{"attributeName":"Id","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"Genre","keyType":"HASH"},{"attributeName":"Id","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Albums/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"ArtistSong":{"id":"ArtistSong","path":"BackendStack/ArtistSong","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistSong/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"ArtistId","attributeType":"S"},{"attributeName":"SongId","attributeType":"S"}],"keySchema":[{"attributeName":"ArtistId","keyType":"HASH"},{"attributeName":"SongId","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/ArtistSong/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"ArtistAlbum":{"id":"ArtistAlbum","path":"BackendStack/ArtistAlbum","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistAlbum/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"ArtistId","attributeType":"S"},{"attributeName":"AlbumId","attributeType":"S"}],"keySchema":[{"attributeName":"ArtistId","keyType":"HASH"},{"attributeName":"AlbumId","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/ArtistAlbum/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"Ratings":{"id":"Ratings","path":"BackendStack/Ratings","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Ratings/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"User","attributeType":"S"},{"attributeName":"Song","attributeType":"S"}],"keySchema":[{"attributeName":"User","keyType":"HASH"},{"attributeName":"Song","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Ratings/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"Subscriptions":{"id":"Subscriptions","path":"BackendStack/Subscriptions","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.Table","version":"2.215.0","metadata":[{"partitionKey":{"name":"*","type":"S"},"sortKey":{"name":"*","type":"S"},"removalPolicy":"destroy"},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]},{"addGlobalSecondaryIndex":[{"indexName":"*","projectionType":"ALL","partitionKey":{"name":"*","type":"S"}}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/Subscriptions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_dynamodb.CfnTable","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::DynamoDB::Table","aws:cdk:cloudformation:props":{"attributeDefinitions":[{"attributeName":"Target","attributeType":"S"},{"attributeName":"User","attributeType":"S"},{"attributeName":"id","attributeType":"S"}],"globalSecondaryIndexes":[{"indexName":"id-index","keySchema":[{"attributeName":"id","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}},{"indexName":"User-index","keySchema":[{"attributeName":"User","keyType":"HASH"}],"projection":{"projectionType":"ALL"},"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}],"keySchema":[{"attributeName":"Target","keyType":"HASH"},{"attributeName":"User","keyType":"RANGE"}],"provisionedThroughput":{"readCapacityUnits":5,"writeCapacityUnits":5}}}},"ScalingRole":{"id":"ScalingRole","path":"BackendStack/Subscriptions/ScalingRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}}}},"MusicAppUserPool":{"id":"MusicAppUserPool","path":"BackendStack/MusicAppUserPool","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPool","version":"2.215.0","metadata":[{"accountRecovery":2,"customAttributes":"*","mfa":"OFF","passwordPolicy":{"minLength":"*","requireDigits":false,"requireLowercase":false,"requireSymbols":false,"requireUppercase":false},"removalPolicy":"destroy","selfSignUpEnabled":true,"signInAliases":{"email":true,"username":true},"standardAttributes":{},"userPoolName":"*"},{"addTrigger":[{},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicAppUserPool/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPool","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPool","aws:cdk:cloudformation:props":{"accountRecoverySetting":{"recoveryMechanisms":[{"name":"verified_email","priority":1}]},"adminCreateUserConfig":{"allowAdminCreateUserOnly":false},"aliasAttributes":["email"],"autoVerifiedAttributes":["email"],"emailVerificationMessage":"The verification code to your new account is {####}","emailVerificationSubject":"Verify your new account","lambdaConfig":{"preSignUp":{"Fn::GetAtt":["PreSignUpLambda2E8F0430","Arn"]}},"mfaConfiguration":"OFF","policies":{"passwordPolicy":{"minimumLength":6,"requireLowercase":false,"requireUppercase":false,"requireNumbers":false,"requireSymbols":false}},"schema":[{"name":"birthdate","mutable":true,"required":true},{"name":"email","mutable":true,"required":true},{"name":"family_name","mutable":true,"required":true},{"name":"given_name","mutable":true,"required":true},{"name":"role","attributeDataType":"String","stringAttributeConstraints":{"minLength":"1","maxLength":"20"},"mutable":true}],"smsVerificationMessage":"The verification code to your new account is {####}","userPoolName":"music-app-user-pool","verificationMessageTemplate":{"defaultEmailOption":"CONFIRM_WITH_CODE","emailMessage":"The verification code to your new account is {####}","emailSubject":"Verify your new account","smsMessage":"The verification code to your new account is {####}"}}}},"MusicStreamingApp":{"id":"MusicStreamingApp","path":"BackendStack/MusicAppUserPool/MusicStreamingApp","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.UserPoolClient","version":"2.215.0","metadata":[{"userPool":"*","accessTokenValidity":"*","authFlows":{"userPassword":true,"userSrp":true},"enableTokenRevocation":true,"generateSecret":false,"idTokenValidity":"*","preventUserExistenceErrors":true,"refreshTokenValidity":"*","userPoolClientName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicAppUserPool/MusicStreamingApp/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_cognito.CfnUserPoolClient","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Cognito::UserPoolClient","aws:cdk:cloudformation:props":{"accessTokenValidity":60,"allowedOAuthFlows":["implicit","code"],"allowedOAuthFlowsUserPoolClient":true,"allowedOAuthScopes":["profile","phone","email","openid","aws.cognito.signin.user.admin"],"callbackUrLs":["https://example.com"],"clientName":"music-streaming-client","enableTokenRevocation":true,"explicitAuthFlows":["ALLOW_USER_PASSWORD_AUTH","ALLOW_USER_SRP_AUTH","ALLOW_REFRESH_TOKEN_AUTH"],"generateSecret":false,"idTokenValidity":60,"preventUserExistenceErrors":"ENABLED","refreshTokenValidity":7200,"supportedIdentityProviders":["COGNITO"],"tokenValidityUnits":{"idToken":"minutes","accessToken":"minutes","refreshToken":"minutes"},"userPoolId":{"Ref":"MusicAppUserPool6D0B6B56"}}}}}},"PreSignUpCognito":{"id":"PreSignUpCognito","path":"BackendStack/MusicAppUserPool/PreSignUpCognito","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["PreSignUpLambda2E8F0430","Arn"]},"principal":"cognito-idp.amazonaws.com","sourceArn":{"Fn::GetAtt":["MusicAppUserPool6D0B6B56","Arn"]}}}}}},"UserPoolId":{"id":"UserPoolId","path":"BackendStack/UserPoolId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"UserPoolClientId":{"id":"UserPoolClientId","path":"BackendStack/UserPoolClientId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"PreSignUpLambda":{"id":"PreSignUpLambda","path":"BackendStack/PreSignUpLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"code":"*","handler":"*","runtime":"*"}]},"children":{"ServiceRole":{"id":"ServiceRole","path":"BackendStack/PreSignUpLambda/ServiceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]}]},"children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"BackendStack/PreSignUpLambda/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/PreSignUpLambda/ServiceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}}}},"Resource":{"id":"Resource","path":"BackendStack/PreSignUpLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"zipFile":"def main(event, context):\n                # Auto-confirm user and auto-verify email\n                event['response']['autoConfirmUser'] = True\n                event['response']['autoVerifyEmail'] = True\n                return event\n            "},"handler":"index.main","role":{"Fn::GetAtt":["PreSignUpLambdaServiceRoleFA160DE8","Arn"]},"runtime":"python3.11"}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/PreSignUpLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/PreSignUpLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"PreSignUpLambda2E8F0430"}]]},"retentionInDays":731}}}}}}},"NewContentTopic":{"id":"NewContentTopic","path":"BackendStack/NewContentTopic","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Topic","version":"2.215.0","metadata":[{"displayName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/NewContentTopic/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnTopic","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Topic","aws:cdk:cloudformation:props":{"displayName":"NewContentTopic"}}}}},"NewContentQueue":{"id":"NewContentQueue","path":"BackendStack/NewContentQueue","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.215.0","metadata":[{"queueName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/NewContentQueue/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"queueName":"NewContentQueue"}}},"Policy":{"id":"Policy","path":"BackendStack/NewContentQueue/Policy","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.QueuePolicy","version":"2.215.0","metadata":[{"queues":["*"]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/NewContentQueue/Policy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueuePolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::QueuePolicy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":"sqs:SendMessage","Condition":{"ArnEquals":{"aws:SourceArn":{"Ref":"NewContentTopicE1BD8C89"}}},"Effect":"Allow","Principal":{"Service":"sns.amazonaws.com"},"Resource":{"Fn::GetAtt":["NewContentQueueAAB7BE0E","Arn"]}}],"Version":"2012-10-17"},"queues":[{"Ref":"NewContentQueueAAB7BE0E"}]}}}}},"BackendStackNewContentTopic6E806F6B":{"id":"BackendStackNewContentTopic6E806F6B","path":"BackendStack/NewContentQueue/BackendStackNewContentTopic6E806F6B","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.Subscription","version":"2.215.0","metadata":[{"topic":"*","endpoint":"*","protocol":"sqs","rawMessageDelivery":"*","filterPolicy":"*","filterPolicyWithMessageBody":"*","region":"*","deadLetterQueue":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/NewContentQueue/BackendStackNewContentTopic6E806F6B/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_sns.CfnSubscription","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::SNS::Subscription","aws:cdk:cloudformation:props":{"endpoint":{"Fn::GetAtt":["NewContentQueueAAB7BE0E","Arn"]},"protocol":"sqs","topicArn":{"Ref":"NewContentTopicE1BD8C89"}}}}}}}},"SendEmailRole":{"id":"SendEmailRole","path":"BackendStack/SendEmailRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportSendEmailRole":{"id":"ImportSendEmailRole","path":"BackendStack/SendEmailRole/ImportSendEmailRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SendEmailRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SendEmailRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SendEmailRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},"/index/*"]]}]},{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["NewContentQueueAAB7BE0E","Arn"]}},{"Action":["ses:SendEmail","ses:SendRawEmail"],"Effect":"Allow","Resource":"*"}],"Version":"2012-10-17"},"policyName":"SendEmailRoleDefaultPolicy8910A22C","roles":[{"Ref":"SendEmailRole539124E4"}]}}}}}}},"SendEmail":{"id":"SendEmail","path":"BackendStack/SendEmail","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SendEmail/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SendEmail/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SendEmail/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SendEmail/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"8bb77bb2bfc9048fc9ff3d9aef1366aadc2b4ad822cfc516613537079c745cbd.zip"},"environment":{"variables":{"SUBSCRIPTIONS_TABLE":{"Ref":"Subscriptions1F71F6D8"},"SES_REGION":"eu-central-1","SES_SOURCE_EMAIL":"milica.t.radic@gmail.com"}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SendEmailRole539124E4","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SendEmail/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SendEmail/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SendEmail14C26199"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SendEmail/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SendEmail/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SendEmail14C26199","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SendEmail/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SendEmail14C26199","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}},"SqsEventSource:BackendStackNewContentQueue0115C3D5":{"id":"SqsEventSource:BackendStackNewContentQueue0115C3D5","path":"BackendStack/SendEmail/SqsEventSource:BackendStackNewContentQueue0115C3D5","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.215.0","metadata":[{"target":"*","batchSize":"*","maxBatchingWindow":"*","maxConcurrency":"*","reportBatchItemFailures":"*","enabled":"*","eventSourceArn":"*","filters":"*","filterEncryption":"*","metricsConfig":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SendEmail/SqsEventSource:BackendStackNewContentQueue0115C3D5/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"eventSourceArn":{"Fn::GetAtt":["NewContentQueueAAB7BE0E","Arn"]},"functionName":{"Ref":"SendEmail14C26199"}}}}}}}},"MusicStreamingApi":{"id":"MusicStreamingApi","path":"BackendStack/MusicStreamingApi","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.RestApi","version":"2.215.0","metadata":[{"defaultCorsPreflightOptions":{"allowOrigins":"*","allowMethods":"*"},"deployOptions":{"throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*"},"restApiName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnRestApi","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::RestApi","aws:cdk:cloudformation:props":{"name":"MusicStreamingApi"}}},"Deployment":{"id":"Deployment","path":"BackendStack/MusicStreamingApi/Deployment","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Deployment","version":"2.215.0","metadata":[{"description":"*","api":"*","retainDeployments":"*"},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]},{"addToLogicalId":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Deployment/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnDeployment","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Deployment","aws:cdk:cloudformation:props":{"description":"Automatically created by the RestApi construct","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"DeploymentStage.dev":{"id":"DeploymentStage.dev","path":"BackendStack/MusicStreamingApi/DeploymentStage.dev","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Stage","version":"2.215.0","metadata":[{"deployment":"*","throttlingBurstLimit":"*","throttlingRateLimit":"*","stageName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/DeploymentStage.dev/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnStage","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Stage","aws:cdk:cloudformation:props":{"deploymentId":{"Ref":"MusicStreamingApiDeployment8B4E5256c35638fd213afd6bd6058eb4c731b264"},"methodSettings":[{"httpMethod":"*","resourcePath":"/*","dataTraceEnabled":false,"throttlingBurstLimit":200,"throttlingRateLimit":100}],"restApiId":{"Ref":"MusicStreamingApiC954D41A"},"stageName":"dev"}}}}},"Endpoint":{"id":"Endpoint","path":"BackendStack/MusicStreamingApi/Endpoint","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.215.0"}},"Default":{"id":"Default","path":"BackendStack/MusicStreamingApi/Default","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.ResourceBase","version":"2.215.0","metadata":["*"]},"children":{"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"artists":{"id":"artists","path":"BackendStack/MusicStreamingApi/Default/artists","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"pathPart":"artists","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/artists/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApiartists29F56A20"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"POST":{"id":"POST","path":"BackendStack/MusicStreamingApi/Default/artists/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..artists":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..artists","path":"BackendStack/MusicStreamingApi/Default/artists/POST/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ArtistsConstructCreateArtistLambdaF144778B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/POST/artists"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..artists":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..artists","path":"BackendStack/MusicStreamingApi/Default/artists/POST/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ArtistsConstructCreateArtistLambdaF144778B","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/POST/artists"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ArtistsConstructCreateArtistLambdaF144778B","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApiartists29F56A20"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/artists/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":"*"}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists","path":"BackendStack/MusicStreamingApi/Default/artists/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ArtistsConstructGetArtistsLambda021C89D7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/artists"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists","path":"BackendStack/MusicStreamingApi/Default/artists/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..artists","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ArtistsConstructGetArtistsLambda021C89D7","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/artists"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"NONE","httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ArtistsConstructGetArtistsLambda021C89D7","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApiartists29F56A20"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"{id}":{"id":"{id}","path":"BackendStack/MusicStreamingApi/Default/artists/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MusicStreamingApiartists29F56A20"},"pathPart":"{id}","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApiartistsid07892E02"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"DELETE":{"id":"DELETE","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..artists.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..artists.{id}","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/DELETE/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..artists.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ArtistsConstructDeleteArtistLambda18C5C4BB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/DELETE/artists/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..artists.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..artists.{id}","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/DELETE/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..artists.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["ArtistsConstructDeleteArtistLambda18C5C4BB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/DELETE/artists/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/artists/{id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["ArtistsConstructDeleteArtistLambda18C5C4BB","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApiartistsid07892E02"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}}}}}},"songs":{"id":"songs","path":"BackendStack/MusicStreamingApi/Default/songs","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"pathPart":"songs","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/songs/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApisongs22D9C1ED"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"POST":{"id":"POST","path":"BackendStack/MusicStreamingApi/Default/songs/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..songs":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..songs","path":"BackendStack/MusicStreamingApi/Default/songs/POST/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..songs","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructUploadFileLambdaEA442856","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/POST/songs"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..songs":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..songs","path":"BackendStack/MusicStreamingApi/Default/songs/POST/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..songs","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructUploadFileLambdaEA442856","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/POST/songs"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SongsConstructUploadFileLambdaEA442856","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisongs22D9C1ED"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/songs/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs","path":"BackendStack/MusicStreamingApi/Default/songs/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructGetSongsLambda6144445D","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/songs"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs","path":"BackendStack/MusicStreamingApi/Default/songs/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructGetSongsLambda6144445D","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/songs"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SongsConstructGetSongsLambda6144445D","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisongs22D9C1ED"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"{id}":{"id":"{id}","path":"BackendStack/MusicStreamingApi/Default/songs/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MusicStreamingApisongs22D9C1ED"},"pathPart":"{id}","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApisongsid93B22B2E"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"PUT":{"id":"PUT","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.PUT..songs.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.PUT..songs.{id}","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/PUT/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.PUT..songs.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructUpdateSongLambda8037EF22","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/PUT/songs/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.PUT..songs.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.PUT..songs.{id}","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/PUT/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.PUT..songs.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructUpdateSongLambda8037EF22","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/PUT/songs/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SongsConstructUpdateSongLambda8037EF22","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisongsid93B22B2E"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"DELETE":{"id":"DELETE","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..songs.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..songs.{id}","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/DELETE/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..songs.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructDeleteSongLambda3C147F9C","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/DELETE/songs/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..songs.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..songs.{id}","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/DELETE/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..songs.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructDeleteSongLambda3C147F9C","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/DELETE/songs/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SongsConstructDeleteSongLambda3C147F9C","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisongsid93B22B2E"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructGetSongLambdaE803F1EA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/songs/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructGetSongLambdaE803F1EA","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/songs/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SongsConstructGetSongLambdaE803F1EA","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisongsid93B22B2E"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"rating":{"id":"rating","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MusicStreamingApisongsid93B22B2E"},"pathPart":"rating","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApisongsidrating2BB3D202"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"POST":{"id":"POST","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..songs.{id}.rating":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..songs.{id}.rating","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/POST/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..songs.{id}.rating","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructRateSongLambda6B27F156","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/POST/songs/*/rating"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..songs.{id}.rating":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..songs.{id}.rating","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/POST/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..songs.{id}.rating","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructRateSongLambda6B27F156","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/POST/songs/*/rating"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SongsConstructRateSongLambda6B27F156","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisongsidrating2BB3D202"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}.rating":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}.rating","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}.rating","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructGetSongRatingLambda72CC02E9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/songs/*/rating"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}.rating":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}.rating","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..songs.{id}.rating","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SongsConstructGetSongRatingLambda72CC02E9","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/songs/*/rating"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/songs/{id}/rating/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SongsConstructGetSongRatingLambda72CC02E9","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisongsidrating2BB3D202"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}}}}}}}},"albums":{"id":"albums","path":"BackendStack/MusicStreamingApi/Default/albums","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"pathPart":"albums","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/albums/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApialbums6CBF36F7"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"POST":{"id":"POST","path":"BackendStack/MusicStreamingApi/Default/albums/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..albums":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..albums","path":"BackendStack/MusicStreamingApi/Default/albums/POST/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..albums","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructCreateAlbumLambda9E7DAC17","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/POST/albums"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..albums":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..albums","path":"BackendStack/MusicStreamingApi/Default/albums/POST/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..albums","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructCreateAlbumLambda9E7DAC17","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/POST/albums"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AlbumConstructCreateAlbumLambda9E7DAC17","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApialbums6CBF36F7"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/albums/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..albums":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..albums","path":"BackendStack/MusicStreamingApi/Default/albums/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..albums","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructGetAlbumsLambda214F25FB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/albums"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..albums":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..albums","path":"BackendStack/MusicStreamingApi/Default/albums/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..albums","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructGetAlbumsLambda214F25FB","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/albums"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AlbumConstructGetAlbumsLambda214F25FB","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApialbums6CBF36F7"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"{id}":{"id":"{id}","path":"BackendStack/MusicStreamingApi/Default/albums/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MusicStreamingApialbums6CBF36F7"},"pathPart":"{id}","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApialbumsid8B166948"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"PUT":{"id":"PUT","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/PUT","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.PUT..albums.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.PUT..albums.{id}","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/PUT/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.PUT..albums.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructUpdateAlbumLambdaB9632FEC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/PUT/albums/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.PUT..albums.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.PUT..albums.{id}","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/PUT/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.PUT..albums.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructUpdateAlbumLambdaB9632FEC","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/PUT/albums/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/PUT/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"PUT","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AlbumConstructUpdateAlbumLambdaB9632FEC","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApialbumsid8B166948"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"DELETE":{"id":"DELETE","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..albums.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..albums.{id}","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/DELETE/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..albums.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructDeleteAlbumLambda63B51E55","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/DELETE/albums/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..albums.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..albums.{id}","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/DELETE/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..albums.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["AlbumConstructDeleteAlbumLambda63B51E55","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/DELETE/albums/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/albums/{id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["AlbumConstructDeleteAlbumLambda63B51E55","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApialbumsid8B166948"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}}}}}},"subscriptions":{"id":"subscriptions","path":"BackendStack/MusicStreamingApi/Default/subscriptions","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/subscriptions/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Fn::GetAtt":["MusicStreamingApiC954D41A","RootResourceId"]},"pathPart":"subscriptions","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/subscriptions/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/subscriptions/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApisubscriptions9159F36E"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"POST":{"id":"POST","path":"BackendStack/MusicStreamingApi/Default/subscriptions/POST","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..subscriptions":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..subscriptions","path":"BackendStack/MusicStreamingApi/Default/subscriptions/POST/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.POST..subscriptions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubscriptionsConstructCreateSubscriptionLambdaC57285D3","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/POST/subscriptions"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..subscriptions":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..subscriptions","path":"BackendStack/MusicStreamingApi/Default/subscriptions/POST/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.POST..subscriptions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubscriptionsConstructCreateSubscriptionLambdaC57285D3","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/POST/subscriptions"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/subscriptions/POST/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"POST","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SubscriptionsConstructCreateSubscriptionLambdaC57285D3","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisubscriptions9159F36E"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"GET":{"id":"GET","path":"BackendStack/MusicStreamingApi/Default/subscriptions/GET","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..subscriptions":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..subscriptions","path":"BackendStack/MusicStreamingApi/Default/subscriptions/GET/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.GET..subscriptions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubscriptionsConstructGetSubscriptionsLambda79C7D049","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/GET/subscriptions"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..subscriptions":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..subscriptions","path":"BackendStack/MusicStreamingApi/Default/subscriptions/GET/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.GET..subscriptions","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubscriptionsConstructGetSubscriptionsLambda79C7D049","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/GET/subscriptions"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/subscriptions/GET/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"GET","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SubscriptionsConstructGetSubscriptionsLambda79C7D049","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisubscriptions9159F36E"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"{id}":{"id":"{id}","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Resource","version":"2.215.0","metadata":[{"parent":"*","pathPart":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnResource","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Resource","aws:cdk:cloudformation:props":{"parentId":{"Ref":"MusicStreamingApisubscriptions9159F36E"},"pathPart":"{id}","restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}},"OPTIONS":{"id":"OPTIONS","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}/OPTIONS","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizer":{"authorizerId":"*","authorizationType":"*"},"apiKeyRequired":false,"authorizationType":"*","methodResponses":[{"statusCode":"*","responseParameters":"*"}]}},{"addMethodResponse":[{"statusCode":"*","responseParameters":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}/OPTIONS/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"apiKeyRequired":false,"authorizationType":"NONE","httpMethod":"OPTIONS","integration":{"type":"MOCK","requestTemplates":{"application/json":"{ statusCode: 200 }"},"integrationResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":"'Content-Type,X-Amz-Date,Authorization,X-Api-Key,X-Amz-Security-Token,X-Amz-User-Agent'","method.response.header.Access-Control-Allow-Origin":"'*'","method.response.header.Access-Control-Allow-Methods":"'OPTIONS,GET,PUT,POST,DELETE,PATCH,HEAD'"}}]},"methodResponses":[{"statusCode":"204","responseParameters":{"method.response.header.Access-Control-Allow-Headers":true,"method.response.header.Access-Control-Allow-Origin":true,"method.response.header.Access-Control-Allow-Methods":true}}],"resourceId":{"Ref":"MusicStreamingApisubscriptionsid48669B32"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}},"DELETE":{"id":"DELETE","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}/DELETE","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.Method","version":"2.215.0","metadata":[{"resource":"*","httpMethod":"*","integration":"*","options":{"authorizationType":"*","authorizer":"*"}}]},"children":{"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..subscriptions.{id}":{"id":"ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..subscriptions.{id}","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}/DELETE/ApiPermission.BackendStackMusicStreamingApi93A5F8E3.DELETE..subscriptions.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubscriptionsConstructDeleteSubscriptionLambda744D28CE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/",{"Ref":"MusicStreamingApiDeploymentStagedev4D4FE2C4"},"/DELETE/subscriptions/*"]]}}}},"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..subscriptions.{id}":{"id":"ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..subscriptions.{id}","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}/DELETE/ApiPermission.Test.BackendStackMusicStreamingApi93A5F8E3.DELETE..subscriptions.{id}","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunction","functionName":{"Fn::GetAtt":["SubscriptionsConstructDeleteSubscriptionLambda744D28CE","Arn"]},"principal":"apigateway.amazonaws.com","sourceArn":{"Fn::Join":["",["arn:aws:execute-api:eu-central-1:138881450188:",{"Ref":"MusicStreamingApiC954D41A"},"/test-invoke-stage/DELETE/subscriptions/*"]]}}}},"Resource":{"id":"Resource","path":"BackendStack/MusicStreamingApi/Default/subscriptions/{id}/DELETE/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnMethod","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Method","aws:cdk:cloudformation:props":{"authorizationType":"COGNITO_USER_POOLS","authorizerId":{"Ref":"CognitoAuthorizerF3215DBC"},"httpMethod":"DELETE","integration":{"type":"AWS_PROXY","uri":{"Fn::Join":["",["arn:aws:apigateway:eu-central-1:lambda:path/2015-03-31/functions/",{"Fn::GetAtt":["SubscriptionsConstructDeleteSubscriptionLambda744D28CE","Arn"]},"/invocations"]]},"integrationHttpMethod":"POST"},"resourceId":{"Ref":"MusicStreamingApisubscriptionsid48669B32"},"restApiId":{"Ref":"MusicStreamingApiC954D41A"}}}}}}}}}}}}}},"CognitoAuthorizer":{"id":"CognitoAuthorizer","path":"BackendStack/CognitoAuthorizer","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CognitoUserPoolsAuthorizer","version":"2.215.0","metadata":["*"]},"children":{"Resource":{"id":"Resource","path":"BackendStack/CognitoAuthorizer/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_apigateway.CfnAuthorizer","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::ApiGateway::Authorizer","aws:cdk:cloudformation:props":{"identitySource":"method.request.header.Authorization","name":"BackendStackCognitoAuthorizerD02D578C","providerArns":[{"Fn::GetAtt":["MusicAppUserPool6D0B6B56","Arn"]}],"restApiId":{"Ref":"MusicStreamingApiC954D41A"},"type":"COGNITO_USER_POOLS"}}}}},"ArtistsConstruct":{"id":"ArtistsConstruct","path":"BackendStack/ArtistsConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CreateArtistLambdaRole":{"id":"CreateArtistLambdaRole","path":"BackendStack/ArtistsConstruct/CreateArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportCreateArtistLambdaRole":{"id":"ImportCreateArtistLambdaRole","path":"BackendStack/ArtistsConstruct/CreateArtistLambdaRole/ImportCreateArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/CreateArtistLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/ArtistsConstruct/CreateArtistLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/CreateArtistLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ArtistsConstructCreateArtistLambdaRoleDefaultPolicyE0C6C7CB","roles":[{"Ref":"ArtistsConstructCreateArtistLambdaRoleBEE5A87D"}]}}}}}}},"CreateArtistLambda":{"id":"CreateArtistLambda","path":"BackendStack/ArtistsConstruct/CreateArtistLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"67037c19d449b68d77febac3ebb5807796b44a9bfbcb60926b7b2731cad67290.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"ArtistsAF1BB04E"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["ArtistsConstructCreateArtistLambdaRoleBEE5A87D","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ArtistsConstructCreateArtistLambdaF144778B"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["ArtistsConstructCreateArtistLambdaF144778B","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/ArtistsConstruct/CreateArtistLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["ArtistsConstructCreateArtistLambdaF144778B","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetArtistsLambdaRole":{"id":"GetArtistsLambdaRole","path":"BackendStack/ArtistsConstruct/GetArtistsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetArtistsLambdaRole":{"id":"ImportGetArtistsLambdaRole","path":"BackendStack/ArtistsConstruct/GetArtistsLambdaRole/ImportGetArtistsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/GetArtistsLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/ArtistsConstruct/GetArtistsLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/GetArtistsLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"ArtistsConstructGetArtistsLambdaRoleDefaultPolicy9972E22B","roles":[{"Ref":"ArtistsConstructGetArtistsLambdaRole40BF39E7"}]}}}}}}},"GetArtistsLambda":{"id":"GetArtistsLambda","path":"BackendStack/ArtistsConstruct/GetArtistsLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"45a1a4808f0cb411220f4fe87d1b5172905a7d59bae4a6a3548cbd89b8cc9550.zip"},"environment":{"variables":{"TABLE_NAME":{"Ref":"ArtistsAF1BB04E"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["ArtistsConstructGetArtistsLambdaRole40BF39E7","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ArtistsConstructGetArtistsLambda021C89D7"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["ArtistsConstructGetArtistsLambda021C89D7","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/ArtistsConstruct/GetArtistsLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["ArtistsConstructGetArtistsLambda021C89D7","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"DeleteArtistLambdaRole":{"id":"DeleteArtistLambdaRole","path":"BackendStack/ArtistsConstruct/DeleteArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportDeleteArtistLambdaRole":{"id":"ImportDeleteArtistLambdaRole","path":"BackendStack/ArtistsConstruct/DeleteArtistLambdaRole/ImportDeleteArtistLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/DeleteArtistLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/ArtistsConstruct/DeleteArtistLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/DeleteArtistLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["ArtistAlbum6D4E520D","Arn"]},{"Fn::GetAtt":["ArtistSong600154F0","Arn"]},{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"ArtistsConstructDeleteArtistLambdaRoleDefaultPolicyBB6BE7C2","roles":[{"Ref":"ArtistsConstructDeleteArtistLambdaRole809622E6"}]}}}}}}},"DeleteArtistLambda":{"id":"DeleteArtistLambda","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"3e100278c0d126cc011b889b58950c4e661cb24d8fcdc99f10666739ed039f84.zip"},"environment":{"variables":{"ARTISTS_TABLE":{"Ref":"ArtistsAF1BB04E"},"SONGS_TABLE":{"Ref":"SongsD2AA5F2A"},"ALBUMS_TABLE":{"Ref":"Albums77B3A114"},"ARTIST_ALBUM_TABLE":{"Ref":"ArtistAlbum6D4E520D"},"ARTIST_SONG_TABLE":{"Ref":"ArtistSong600154F0"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["ArtistsConstructDeleteArtistLambdaRole809622E6","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"ArtistsConstructDeleteArtistLambda18C5C4BB"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["ArtistsConstructDeleteArtistLambda18C5C4BB","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/ArtistsConstruct/DeleteArtistLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["ArtistsConstructDeleteArtistLambda18C5C4BB","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}}}},"SongsConstruct":{"id":"SongsConstruct","path":"BackendStack/SongsConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"UploadFileLambdaRole":{"id":"UploadFileLambdaRole","path":"BackendStack/SongsConstruct/UploadFileLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportUploadFileLambdaRole":{"id":"ImportUploadFileLambdaRole","path":"BackendStack/SongsConstruct/UploadFileLambdaRole/ImportUploadFileLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UploadFileLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SongsConstruct/UploadFileLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UploadFileLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["mymusicappfilesAC4E028D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["mymusicappfilesAC4E028D","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchWriteItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:PutItem","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["ArtistSong600154F0","Arn"]},{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"NewContentTopicE1BD8C89"}}],"Version":"2012-10-17"},"policyName":"SongsConstructUploadFileLambdaRoleDefaultPolicyA6BF6CA8","roles":[{"Ref":"SongsConstructUploadFileLambdaRole56100D5C"}]}}}}}}},"UploadFileLambda":{"id":"UploadFileLambda","path":"BackendStack/SongsConstruct/UploadFileLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SongsConstruct/UploadFileLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SongsConstruct/UploadFileLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SongsConstruct/UploadFileLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UploadFileLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"16b7556bf37577cd0a2e84799a8dfef158506074be1efa9ada1c0efdd32c5ec3.zip"},"environment":{"variables":{"BUCKET_NAME":{"Ref":"mymusicappfilesAC4E028D"},"SONGS_TABLE":{"Ref":"SongsD2AA5F2A"},"ARTIST_SONG_TABLE":{"Ref":"ArtistSong600154F0"},"SNS_TOPIC_ARN":{"Ref":"NewContentTopicE1BD8C89"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SongsConstructUploadFileLambdaRole56100D5C","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SongsConstruct/UploadFileLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UploadFileLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SongsConstructUploadFileLambdaEA442856"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SongsConstruct/UploadFileLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UploadFileLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SongsConstructUploadFileLambdaEA442856","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SongsConstruct/UploadFileLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SongsConstructUploadFileLambdaEA442856","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetSongsLambdaRole":{"id":"GetSongsLambdaRole","path":"BackendStack/SongsConstruct/GetSongsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetSongsLambdaRole":{"id":"ImportGetSongsLambdaRole","path":"BackendStack/SongsConstruct/GetSongsLambdaRole/ImportGetSongsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongsLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SongsConstruct/GetSongsLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongsLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SongsConstructGetSongsLambdaRoleDefaultPolicy06C36B64","roles":[{"Ref":"SongsConstructGetSongsLambdaRole320C57CE"}]}}}}}}},"GetSongsLambda":{"id":"GetSongsLambda","path":"BackendStack/SongsConstruct/GetSongsLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SongsConstruct/GetSongsLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SongsConstruct/GetSongsLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SongsConstruct/GetSongsLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongsLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"910b979ef9a71ac0a0f094edea17dee2e561cd886b7445e5a346f800985d4659.zip"},"environment":{"variables":{"SONGS_TABLE":{"Ref":"SongsD2AA5F2A"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SongsConstructGetSongsLambdaRole320C57CE","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SongsConstruct/GetSongsLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongsLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SongsConstructGetSongsLambda6144445D"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SongsConstruct/GetSongsLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongsLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SongsConstructGetSongsLambda6144445D","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SongsConstruct/GetSongsLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SongsConstructGetSongsLambda6144445D","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"UpdateSongLambdaRole":{"id":"UpdateSongLambdaRole","path":"BackendStack/SongsConstruct/UpdateSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportUpdateSongLambdaRole":{"id":"ImportUpdateSongLambdaRole","path":"BackendStack/SongsConstruct/UpdateSongLambdaRole/ImportUpdateSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UpdateSongLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SongsConstruct/UpdateSongLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UpdateSongLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["ArtistSong600154F0","Arn"]},{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["mymusicappfilesAC4E028D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["mymusicappfilesAC4E028D","Arn"]},"/*"]]}]}],"Version":"2012-10-17"},"policyName":"SongsConstructUpdateSongLambdaRoleDefaultPolicy6F31203F","roles":[{"Ref":"SongsConstructUpdateSongLambdaRole2B9F876F"}]}}}}}}},"UpdateSongLambda":{"id":"UpdateSongLambda","path":"BackendStack/SongsConstruct/UpdateSongLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SongsConstruct/UpdateSongLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SongsConstruct/UpdateSongLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SongsConstruct/UpdateSongLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UpdateSongLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"38a77dcee621b3c5e017f806a4902aa1e2ae16e74d5b12a3a7ff74de7c261db6.zip"},"environment":{"variables":{"SONGS_TABLE":{"Ref":"SongsD2AA5F2A"},"ALBUMS_TABLE":{"Ref":"Albums77B3A114"},"ARTIST_SONG_TABLE":{"Ref":"ArtistSong600154F0"},"BUCKET_NAME":{"Ref":"mymusicappfilesAC4E028D"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SongsConstructUpdateSongLambdaRole2B9F876F","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SongsConstruct/UpdateSongLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UpdateSongLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SongsConstructUpdateSongLambda8037EF22"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SongsConstruct/UpdateSongLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/UpdateSongLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SongsConstructUpdateSongLambda8037EF22","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SongsConstruct/UpdateSongLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SongsConstructUpdateSongLambda8037EF22","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"DeleteSongLambdaRole":{"id":"DeleteSongLambdaRole","path":"BackendStack/SongsConstruct/DeleteSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportDeleteSongLambdaRole":{"id":"ImportDeleteSongLambdaRole","path":"BackendStack/SongsConstruct/DeleteSongLambdaRole/ImportDeleteSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/DeleteSongLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SongsConstruct/DeleteSongLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/DeleteSongLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SongsConstructDeleteSongLambdaRoleDefaultPolicy49002D0D","roles":[{"Ref":"SongsConstructDeleteSongLambdaRoleFEA229E4"}]}}}}}}},"DeleteSongLambda":{"id":"DeleteSongLambda","path":"BackendStack/SongsConstruct/DeleteSongLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SongsConstruct/DeleteSongLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SongsConstruct/DeleteSongLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SongsConstruct/DeleteSongLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/DeleteSongLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"ff2010ce61dc643a9b880ce9543e2b8b16fed814eb2aa5b675b71311fe1b5c0f.zip"},"environment":{"variables":{"SONGS_TABLE":{"Ref":"SongsD2AA5F2A"},"ALBUMS_TABLE":{"Ref":"Albums77B3A114"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SongsConstructDeleteSongLambdaRoleFEA229E4","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SongsConstruct/DeleteSongLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/DeleteSongLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SongsConstructDeleteSongLambda3C147F9C"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SongsConstruct/DeleteSongLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/DeleteSongLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SongsConstructDeleteSongLambda3C147F9C","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SongsConstruct/DeleteSongLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SongsConstructDeleteSongLambda3C147F9C","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetSongLambdaRole":{"id":"GetSongLambdaRole","path":"BackendStack/SongsConstruct/GetSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportGetSongLambdaRole":{"id":"ImportGetSongLambdaRole","path":"BackendStack/SongsConstruct/GetSongLambdaRole/ImportGetSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SongsConstruct/GetSongLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["ArtistsAF1BB04E","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SongsConstructGetSongLambdaRoleDefaultPolicy6EDD4DCA","roles":[{"Ref":"SongsConstructGetSongLambdaRole8114155C"}]}}}}}}},"GetSongLambda":{"id":"GetSongLambda","path":"BackendStack/SongsConstruct/GetSongLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SongsConstruct/GetSongLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SongsConstruct/GetSongLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SongsConstruct/GetSongLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"2c16145073c738ef4b86d0f63833229fc3d38f346a1b92473d6cfd7f9e2d0170.zip"},"environment":{"variables":{"SONGS_TABLE":{"Ref":"SongsD2AA5F2A"},"ALBUMS_TABLE":{"Ref":"Albums77B3A114"},"ARTISTS_TABLE":{"Ref":"ArtistsAF1BB04E"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SongsConstructGetSongLambdaRole8114155C","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SongsConstruct/GetSongLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SongsConstructGetSongLambdaE803F1EA"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SongsConstruct/GetSongLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SongsConstructGetSongLambdaE803F1EA","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SongsConstruct/GetSongLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SongsConstructGetSongLambdaE803F1EA","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"RateSongLambdaRole":{"id":"RateSongLambdaRole","path":"BackendStack/SongsConstruct/RateSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportRateSongLambdaRole":{"id":"ImportRateSongLambdaRole","path":"BackendStack/SongsConstruct/RateSongLambdaRole/ImportRateSongLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/RateSongLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SongsConstruct/RateSongLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/RateSongLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Ratings9CD1D222","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"SongsConstructRateSongLambdaRoleDefaultPolicy78082CC8","roles":[{"Ref":"SongsConstructRateSongLambdaRole39FFF76E"}]}}}}}}},"RateSongLambda":{"id":"RateSongLambda","path":"BackendStack/SongsConstruct/RateSongLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SongsConstruct/RateSongLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SongsConstruct/RateSongLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SongsConstruct/RateSongLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/RateSongLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"4710aac83e7139288fb406aae1af50fbbbf9359b00618e1bbe095058874ebff1.zip"},"environment":{"variables":{"RATING_TABLE":{"Ref":"Ratings9CD1D222"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SongsConstructRateSongLambdaRole39FFF76E","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SongsConstruct/RateSongLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/RateSongLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SongsConstructRateSongLambda6B27F156"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SongsConstruct/RateSongLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/RateSongLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SongsConstructRateSongLambda6B27F156","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SongsConstruct/RateSongLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SongsConstructRateSongLambda6B27F156","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetSongRatingLambdaRole":{"id":"GetSongRatingLambdaRole","path":"BackendStack/SongsConstruct/GetSongRatingLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetSongRatingLambdaRole":{"id":"ImportGetSongRatingLambdaRole","path":"BackendStack/SongsConstruct/GetSongRatingLambdaRole/ImportGetSongRatingLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongRatingLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SongsConstruct/GetSongRatingLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongRatingLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Ratings9CD1D222","Arn"]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"SongsConstructGetSongRatingLambdaRoleDefaultPolicy87A66164","roles":[{"Ref":"SongsConstructGetSongRatingLambdaRoleBF760942"}]}}}}}}},"GetSongRatingLambda":{"id":"GetSongRatingLambda","path":"BackendStack/SongsConstruct/GetSongRatingLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SongsConstruct/GetSongRatingLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SongsConstruct/GetSongRatingLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SongsConstruct/GetSongRatingLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongRatingLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"a1fbf6d74b33cd753a49885c2856828ca65dd91e1a2b590012a9d3307c43308e.zip"},"environment":{"variables":{"RATING_TABLE":{"Ref":"Ratings9CD1D222"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SongsConstructGetSongRatingLambdaRoleBF760942","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SongsConstruct/GetSongRatingLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongRatingLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SongsConstructGetSongRatingLambda72CC02E9"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SongsConstruct/GetSongRatingLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SongsConstruct/GetSongRatingLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SongsConstructGetSongRatingLambda72CC02E9","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SongsConstruct/GetSongRatingLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SongsConstructGetSongRatingLambda72CC02E9","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}}}},"AlbumConstruct":{"id":"AlbumConstruct","path":"BackendStack/AlbumConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CreateAlbumLambdaRole":{"id":"CreateAlbumLambdaRole","path":"BackendStack/AlbumConstruct/CreateAlbumLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportCreateAlbumLambdaRole":{"id":"ImportCreateAlbumLambdaRole","path":"BackendStack/AlbumConstruct/CreateAlbumLambdaRole/ImportCreateAlbumLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/CreateAlbumLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/AlbumConstruct/CreateAlbumLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/CreateAlbumLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["s3:Abort*","s3:DeleteObject*","s3:GetBucket*","s3:GetObject*","s3:List*","s3:PutObject","s3:PutObjectLegalHold","s3:PutObjectRetention","s3:PutObjectTagging","s3:PutObjectVersionTagging"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["mymusicappfilesAC4E028D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["mymusicappfilesAC4E028D","Arn"]},"/*"]]}]},{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["ArtistAlbum6D4E520D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]},{"Action":"sns:Publish","Effect":"Allow","Resource":{"Ref":"NewContentTopicE1BD8C89"}}],"Version":"2012-10-17"},"policyName":"AlbumConstructCreateAlbumLambdaRoleDefaultPolicyD87CAC5C","roles":[{"Ref":"AlbumConstructCreateAlbumLambdaRoleD5F15C22"}]}}}}}}},"CreateAlbumLambda":{"id":"CreateAlbumLambda","path":"BackendStack/AlbumConstruct/CreateAlbumLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"864b3a994f55a56a0404ed127c8a516dac99ae9531278e54f27f40443bca2559.zip"},"environment":{"variables":{"BUCKET_NAME":{"Ref":"mymusicappfilesAC4E028D"},"ALBUMS_TABLE":{"Ref":"Albums77B3A114"},"ARTIST_ALBUM_TABLE":{"Ref":"ArtistAlbum6D4E520D"},"SNS_TOPIC_ARN":{"Ref":"NewContentTopicE1BD8C89"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["AlbumConstructCreateAlbumLambdaRoleD5F15C22","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AlbumConstructCreateAlbumLambda9E7DAC17"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["AlbumConstructCreateAlbumLambda9E7DAC17","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/AlbumConstruct/CreateAlbumLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["AlbumConstructCreateAlbumLambda9E7DAC17","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetAlbumsLambdaRole":{"id":"GetAlbumsLambdaRole","path":"BackendStack/AlbumConstruct/GetAlbumsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetAlbumsLambdaRole":{"id":"ImportGetAlbumsLambdaRole","path":"BackendStack/AlbumConstruct/GetAlbumsLambdaRole/ImportGetAlbumsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/GetAlbumsLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/AlbumConstruct/GetAlbumsLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/GetAlbumsLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:ConditionCheckItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:Query","dynamodb:Scan"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"AlbumConstructGetAlbumsLambdaRoleDefaultPolicyB4CF55FB","roles":[{"Ref":"AlbumConstructGetAlbumsLambdaRoleB6C82476"}]}}}}}}},"GetAlbumsLambda":{"id":"GetAlbumsLambda","path":"BackendStack/AlbumConstruct/GetAlbumsLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"a5f081598193ee206a2d1543bd303a4d4b215ba2ad5d73fe9c0b92e910904407.zip"},"environment":{"variables":{"ALBUMS_TABLE":{"Ref":"Albums77B3A114"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["AlbumConstructGetAlbumsLambdaRoleB6C82476","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AlbumConstructGetAlbumsLambda214F25FB"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["AlbumConstructGetAlbumsLambda214F25FB","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/AlbumConstruct/GetAlbumsLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["AlbumConstructGetAlbumsLambda214F25FB","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"UpdateAlbumLambdaRole":{"id":"UpdateAlbumLambdaRole","path":"BackendStack/AlbumConstruct/UpdateAlbumLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportUpdateAlbumLambdaRole":{"id":"ImportUpdateAlbumLambdaRole","path":"BackendStack/AlbumConstruct/UpdateAlbumLambdaRole/ImportUpdateAlbumLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/UpdateAlbumLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/AlbumConstruct/UpdateAlbumLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/UpdateAlbumLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["ArtistAlbum6D4E520D","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]},{"Ref":"AWS::NoValue"}]}],"Version":"2012-10-17"},"policyName":"AlbumConstructUpdateAlbumLambdaRoleDefaultPolicyEE01A9FF","roles":[{"Ref":"AlbumConstructUpdateAlbumLambdaRole9F386333"}]}}}}}}},"UpdateAlbumLambda":{"id":"UpdateAlbumLambda","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"8be39a14ae895f16a1a6d3aea4c5bf515e0dfe2d2e060927fc32f4f690f28d65.zip"},"environment":{"variables":{"ALBUMS_TABLE":{"Ref":"Albums77B3A114"},"ARTIST_ALBUM_TABLE":{"Ref":"ArtistAlbum6D4E520D"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["AlbumConstructUpdateAlbumLambdaRole9F386333","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AlbumConstructUpdateAlbumLambdaB9632FEC"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["AlbumConstructUpdateAlbumLambdaB9632FEC","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/AlbumConstruct/UpdateAlbumLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["AlbumConstructUpdateAlbumLambdaB9632FEC","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"DeleteAlbumLambdaRole":{"id":"DeleteAlbumLambdaRole","path":"BackendStack/AlbumConstruct/DeleteAlbumLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]}]},"children":{"ImportDeleteAlbumLambdaRole":{"id":"ImportDeleteAlbumLambdaRole","path":"BackendStack/AlbumConstruct/DeleteAlbumLambdaRole/ImportDeleteAlbumLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/DeleteAlbumLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/AlbumConstruct/DeleteAlbumLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/DeleteAlbumLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Albums77B3A114","Arn"]},{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Albums77B3A114","Arn"]},"/index/*"]]},{"Fn::Join":["",[{"Fn::GetAtt":["SongsD2AA5F2A","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"AlbumConstructDeleteAlbumLambdaRoleDefaultPolicyC328FDBC","roles":[{"Ref":"AlbumConstructDeleteAlbumLambdaRoleC87B23AD"}]}}}}}}},"DeleteAlbumLambda":{"id":"DeleteAlbumLambda","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"433bf878911e06c600e3e0435323adfe80e775db691be7708e86aacd859a196e.zip"},"environment":{"variables":{"SONGS_TABLE":{"Ref":"SongsD2AA5F2A"},"ALBUMS_TABLE":{"Ref":"Albums77B3A114"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["AlbumConstructDeleteAlbumLambdaRoleC87B23AD","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"AlbumConstructDeleteAlbumLambda63B51E55"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["AlbumConstructDeleteAlbumLambda63B51E55","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/AlbumConstruct/DeleteAlbumLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["AlbumConstructDeleteAlbumLambda63B51E55","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}}}},"SubscriptionsConstruct":{"id":"SubscriptionsConstruct","path":"BackendStack/SubscriptionsConstruct","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"CreateSubscriptionLambdaRole":{"id":"CreateSubscriptionLambdaRole","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportCreateSubscriptionLambdaRole":{"id":"ImportCreateSubscriptionLambdaRole","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambdaRole/ImportCreateSubscriptionLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SubscriptionsConstructCreateSubscriptionLambdaRoleDefaultPolicy06363004","roles":[{"Ref":"SubscriptionsConstructCreateSubscriptionLambdaRoleFB12262C"}]}}}}}}},"CreateSubscriptionLambda":{"id":"CreateSubscriptionLambda","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"3bef59b7dcba6b5c6fb504a8f1ad7b0d834d762b0e4b8f3cc514932336802d23.zip"},"environment":{"variables":{"SUBSCRIPTIONS_TABLE":{"Ref":"Subscriptions1F71F6D8"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SubscriptionsConstructCreateSubscriptionLambdaRoleFB12262C","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SubscriptionsConstructCreateSubscriptionLambdaC57285D3"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SubscriptionsConstructCreateSubscriptionLambdaC57285D3","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SubscriptionsConstruct/CreateSubscriptionLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SubscriptionsConstructCreateSubscriptionLambdaC57285D3","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"GetSubscriptionsLambdaRole":{"id":"GetSubscriptionsLambdaRole","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportGetSubscriptionsLambdaRole":{"id":"ImportGetSubscriptionsLambdaRole","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambdaRole/ImportGetSubscriptionsLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SubscriptionsConstructGetSubscriptionsLambdaRoleDefaultPolicy1C73D58C","roles":[{"Ref":"SubscriptionsConstructGetSubscriptionsLambdaRole5152B908"}]}}}}}}},"GetSubscriptionsLambda":{"id":"GetSubscriptionsLambda","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"e0344743793958e3cd6a6a12a46fb90ff4f99b7376638c5301096b795350e038.zip"},"environment":{"variables":{"SUBSCRIPTIONS_TABLE":{"Ref":"Subscriptions1F71F6D8"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SubscriptionsConstructGetSubscriptionsLambdaRole5152B908","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SubscriptionsConstructGetSubscriptionsLambda79C7D049"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SubscriptionsConstructGetSubscriptionsLambda79C7D049","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SubscriptionsConstruct/GetSubscriptionsLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SubscriptionsConstructGetSubscriptionsLambda79C7D049","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}},"DeleteSubscriptionLambdaRole":{"id":"DeleteSubscriptionLambdaRole","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.215.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"}},{"addManagedPolicy":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]}]},"children":{"ImportDeleteSubscriptionLambdaRole":{"id":"ImportDeleteSubscriptionLambdaRole","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambdaRole/ImportDeleteSubscriptionLambdaRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.215.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambdaRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}]}}},"DefaultPolicy":{"id":"DefaultPolicy","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambdaRole/DefaultPolicy","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.215.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambdaRole/DefaultPolicy/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["dynamodb:BatchGetItem","dynamodb:BatchWriteItem","dynamodb:ConditionCheckItem","dynamodb:DeleteItem","dynamodb:DescribeTable","dynamodb:GetItem","dynamodb:GetRecords","dynamodb:GetShardIterator","dynamodb:PutItem","dynamodb:Query","dynamodb:Scan","dynamodb:UpdateItem"],"Effect":"Allow","Resource":[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},{"Fn::Join":["",[{"Fn::GetAtt":["Subscriptions1F71F6D8","Arn"]},"/index/*"]]}]}],"Version":"2012-10-17"},"policyName":"SubscriptionsConstructDeleteSubscriptionLambdaRoleDefaultPolicy9D273C32","roles":[{"Ref":"SubscriptionsConstructDeleteSubscriptionLambdaRole30148319"}]}}}}}}},"DeleteSubscriptionLambda":{"id":"DeleteSubscriptionLambda","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.Function","version":"2.215.0","metadata":[{"environment":"*","layers":[],"memorySize":"*","role":"*","timeout":"*","code":"*","handler":"*","runtime":"*"},{"addEnvironment":["*","*"]},{"addLayers":[]}]},"children":{"Code":{"id":"Code","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/Code","constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.215.0"},"children":{"Stage":{"id":"Stage","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.215.0"}},"AssetBucket":{"id":"AssetBucket","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.215.0","metadata":[]}}}},"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-138881450188-eu-central-1","s3Key":"086e13f04d63bd017fe65c88a93b646947bba7da8284d48db147f20b7a8c6d47.zip"},"environment":{"variables":{"SUBSCRIPTIONS_TABLE":{"Ref":"Subscriptions1F71F6D8"}}},"handler":"handler.lambda_handler","memorySize":128,"role":{"Fn::GetAtt":["SubscriptionsConstructDeleteSubscriptionLambdaRole30148319","Arn"]},"runtime":"python3.9","timeout":10}}},"LogGroup":{"id":"LogGroup","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/LogGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.LogGroup","version":"2.215.0","metadata":[{"logGroupName":"*"}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/LogGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_logs.CfnLogGroup","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Logs::LogGroup","aws:cdk:cloudformation:props":{"logGroupName":{"Fn::Join":["",["/aws/lambda/",{"Ref":"SubscriptionsConstructDeleteSubscriptionLambda744D28CE"}]]},"retentionInDays":731}}}}},"FunctionUrl":{"id":"FunctionUrl","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/FunctionUrl","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.FunctionUrl","version":"2.215.0","metadata":[{"function":"*","authType":"NONE","cors":{"allowedOrigins":"*"}}]},"children":{"Resource":{"id":"Resource","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/FunctionUrl/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnUrl","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Url","aws:cdk:cloudformation:props":{"authType":"NONE","cors":{"allowMethods":["*"],"allowOrigins":["*"]},"targetFunctionArn":{"Fn::GetAtt":["SubscriptionsConstructDeleteSubscriptionLambda744D28CE","Arn"]}}}}}},"invoke-function-url":{"id":"invoke-function-url","path":"BackendStack/SubscriptionsConstruct/DeleteSubscriptionLambda/invoke-function-url","constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnPermission","version":"2.215.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Permission","aws:cdk:cloudformation:props":{"action":"lambda:InvokeFunctionUrl","functionName":{"Fn::GetAtt":["SubscriptionsConstructDeleteSubscriptionLambda744D28CE","Arn"]},"functionUrlAuthType":"NONE","principal":"*"}}}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"BackendStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"BackendStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.215.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"BackendStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.215.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"BackendStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.215.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}